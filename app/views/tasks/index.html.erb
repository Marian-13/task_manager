<div class="std-div well well-sm" id="notifications-container"></div>

<div class="std-div well well-sm">
  <%= render 'shared/flash_errors_array' %>

  <% if @tasks.blank? %>
    <span class="centered-inline"><h2>You have no tasks...</h2></span>
  <% else %>
    <span class="centered-inline"><h2>Task List</h2></span>

    <% @tasks.each_with_index do |task, index| %>
      <div class="std-div well well-sm">
        <span class="centered-inline"><h4>Task <%= (index + 1) %></h4></span>
        <%= render 'task', task: task%>
        <%= link_to 'Show', task, class: "btn btn-primary" %>
        <%= link_to 'Edit', edit_task_path(task), class: "btn btn-primary" %>
        <%= link_to 'Destroy', task, method: :delete,
                                     data: { confirm: 'Are you sure?' },
                                     class: "btn btn-danger" %>
      </div>

      </br>
    <% end %>
  <% end %>
</div>

<div class="std-div">
  <%= link_to 'New Task', new_task_path %>
</div>

<script type="text/javascript">
  fayeSubscribe("<%= @channel %>");
</script>
